# ViralForge v2.0 - Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# DATABASE (usar postgres-prd existente)
# =============================================================================
DATABASE_URL=postgresql+asyncpg://viral_admin:senha_segura@postgres-prd:5432/viral_videos
DATABASE_URL_SYNC=postgresql://viral_admin:senha_segura@postgres-prd:5432/viral_videos

# =============================================================================
# REDIS (usar cluster existente)
# =============================================================================
REDIS_URL=redis://redis-node-1-prd:6379/0

# =============================================================================
# STORAGE - MinIO (usar minio-prd existente)
# =============================================================================
MINIO_ENDPOINT=minio-prd:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=senha_segura
MINIO_BUCKET=viral-videos
MINIO_SECURE=false

# =============================================================================
# APIs EXTERNAS
# =============================================================================
# Apify - Instagram Scraping ($2.30/1000 results)
APIFY_TOKEN=apify_api_xxxxxxxxxx

# Google Gemini - Video Analysis (~$0.002/video)
GOOGLE_API_KEY=AIzaxxxxxxxxxxxxxxxxxxxxxxx

# Anthropic - Claude (~$0.005/video)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# =============================================================================
# VIDEO ANALYSIS PROVIDER
# =============================================================================
# Options: gemini | claude
# Use 'claude' when Gemini quota is exhausted or for higher quality analysis
VIDEO_ANALYSIS_PROVIDER=gemini

# OpenAI - Strategy Generation (~$0.01/strategy)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx

# Fal.ai - Veo 3.1 Video Generation ($0.25-0.50/scene)
FAL_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# ElevenLabs - Premium TTS (optional, ~$0.30/1k chars)
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=pNInz6obpgDQGcFmaJgB

# =============================================================================
# LIMITES DIARIOS
# =============================================================================
MAX_DAILY_VEO_GENERATIONS=10
MAX_DAILY_SCRAPING_PROFILES=20
MAX_DAILY_ANALYSES=50
MAX_DAILY_TTS_CHARACTERS=50000

# =============================================================================
# THRESHOLDS DE QUALIDADE
# =============================================================================
MIN_VIEWS_THRESHOLD=10000
MIN_LIKES_THRESHOLD=1000
MIN_COMMENTS_THRESHOLD=100
MIN_STATISTICAL_SCORE=0.6
MIN_VIRALITY_SCORE=0.7

# =============================================================================
# BUDGET CONTROL
# =============================================================================
DAILY_BUDGET_LIMIT_USD=20.00
MONTHLY_BUDGET_LIMIT_USD=500.00
BUDGET_WARNING_THRESHOLD=0.8
ABORT_ON_BUDGET_EXCEED=true

# =============================================================================
# TEXT-TO-SPEECH
# =============================================================================
TTS_PROVIDER=edge-tts
TTS_FALLBACK_PROVIDER=elevenlabs
TTS_VOICE_PT_BR=pt-BR-FranciscaNeural
TTS_VOICE_EN_US=en-US-JennyNeural
TTS_RATE=+0%
TTS_PITCH=+0Hz

# =============================================================================
# WHISPER (Transcription)
# =============================================================================
# Provider: local (Whisper local) | groq (Groq API - gratis e mais rapido)
# Use 'groq' para transcricao mais rapida sem uso de GPU/CPU
WHISPER_PROVIDER=local

# Local Whisper: tiny, base, small, medium, large, large-v2, large-v3
# Use 'medium' for CPU-only VPS with 15GB RAM
WHISPER_MODEL=medium

# Groq Whisper (alternativa gratis e muito mais rapida)
GROQ_API_KEY=
GROQ_WHISPER_MODEL=whisper-large-v3

# =============================================================================
# CELERY
# =============================================================================
# Use 2 for 4 vCPUs + 15GB RAM (prevents OOM with Whisper)
CELERY_CONCURRENCY=2

# =============================================================================
# VEO MODE
# =============================================================================
# test = $0.25/scene (fast, lower quality)
# production = $0.50/scene (slow, higher quality)
VEO_MODE=test

# =============================================================================
# APP CONFIG
# =============================================================================
APP_ENV=development
APP_DEBUG=true
APP_HOST=0.0.0.0
APP_PORT=8000
TZ=America/Sao_Paulo

# =============================================================================
# API ACCESS
# =============================================================================
# Opcional: define um token para proteger a API FastAPI
API_TOKEN=
API_RATE_LIMIT_WINDOW=60
API_RATE_LIMIT_MAX=120

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
